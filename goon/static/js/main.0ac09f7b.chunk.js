(this["webpackJsonpgoonitron-client"]=this["webpackJsonpgoonitron-client"]||[]).push([[0],{19:function(e,n){e.exports=Buttplug},38:function(e,n,t){e.exports=t(53)},53:function(e,n,t){"use strict";t.r(n);var r=t(1),a=t.n(r),o=t(26),c=t.n(o),i=t(34),u=t(5),l=t(8),s=t.n(l),f=t(11),p=t(19);var d=function(e){var n=e.initiateConnection;return a.a.createElement("button",{onClick:n},"Connect a Toy")},m=function(e){var n=e.stopConnecting;return a.a.createElement("button",{onClick:n},"Stop Connecting")},b=function(){return a.a.createElement("span",null,"Connected!")},v=function(){return a.a.createElement("span",null,"Use Chrome to connect a toy.")};function g(e){var n=e.clickToStart,t=void 0===n?d:n,a=e.clickToStop,o=void 0===a?m:a,c=e.connected,i=void 0===c?b:c,l=e.unsupportedBrowser,g=void 0===l?v:l,h=e.onNewDevice,j=Object(r.useState)(!1),x=Object(u.a)(j,2),O=x[0],E=x[1],y=Object(r.useState)(!1),w=Object(u.a)(y,2),k=w[0],C=w[1];return function(e,n){var t=Object(r.useRef)(null),a=Object(r.useState)([]),o=Object(u.a)(a,2),c=o[0],i=o[1],l=Object(r.useState)(!1),d=Object(u.a)(l,2),m=d[0],b=d[1];Object(r.useEffect)((function(){function r(){return(r=Object(f.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new p.ButtplugEmbeddedClientConnector,e.next=4,t.current.Connect(n);case 4:e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return");case 10:return e.next=12,t.current.StartScanning();case 12:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}t.current&&!e&&(t.current=null),!t.current&&e&&(t.current=new p.ButtplugClient("Cammy"),t.current.addListener("deviceadded",(function(e){i(e),b(!0),n(e)})),function(){r.apply(this,arguments)}())}),[e])}(O,(function(e){C(!0),h(e)})),window.Bluetooth?k?i():O?O?o({stopConnecting:function(){return E(!1)}}):null:t({initiateConnection:function(){return E(!0)}}):g()}var h=t(3),j=t(4);t(44),t(45);function x(){var e=Object(h.a)(["\n  padding: 1rem;\n  box-shadow: 8px 0px 7px 5px rgb(0 0 0 / 25%), 0 10px 10px rgb(0 0 0 / 22%);\n"]);return x=function(){return e},e}function O(){var e=Object(h.a)(["\n  html, body {\n    min-height: 100vh;\n    padding: 0;\n    margin: 0;\n    font-size: 20px;\n    background-color: #f3c1c0;\n    color: #FFF;\n  }\n"]);return O=function(){return e},e}var E=Object(j.a)(O()),y=(j.b.div(x()),t(22)),w=t(30),k=t(31),C=t(37),S=t(35),D=function(e){return e[Math.floor(Math.random()*e.length)]},M=function(e){return function(n){for(var t=[];t.length<e&&t.length<n.length;){var r=D(n);t.includes(r)||t.push(r)}return t}},T=function(e){Object(C.a)(t,e);var n=Object(S.a)(t);function t(e){var r;return Object(w.a)(this,t),(r=n.call(this,e)).state={preLoaded:[],unLoaded:Object.keys(e.files)},r}return Object(k.a)(t,[{key:"componentDidMount",value:function(){this.preloadSomeMore()}},{key:"preloadSomeMore",value:function(){var e=Object(f.a)(s.a.mark((function e(){var n,t,r,a,o,c=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.state,t=n.unLoaded,r=n.preLoaded,t.length){e.next=4;break}return console.log("Got em all!"),e.abrupt("return");case 4:if(!this.state.isPreloading){e.next=7;break}return console.log("Already preloading!"),e.abrupt("return");case 7:return this.setState({isPreloading:!0}),a=M(this.props.batchSize)(t),o=a.map((function(e){return new Promise((function(n,t){var r=new Image;r.src=c.props.files[e].preview,r.onload=function(){console.log("preloaded ".concat(e)),n()},r.onerror=function(e){return t(e)}}))})),e.prev=10,e.next=13,Promise.all(o);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10);case 18:this.setState({preLoaded:[].concat(Object(y.a)(r),Object(y.a)(a)),unLoaded:t.filter((function(e){return!a.includes(e)})),isPreloading:!1});case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,n=this.props.component,t=this.state.preLoaded.map((function(n){return e.props.files[n].preview}));return 0===t.length?null:a.a.createElement(n,{urls:t,preloadMore:function(){e.preloadSomeMore()}})}}]),t}(a.a.Component),B=t(36);function A(){var e=Object(h.a)(["\n  width: 2rem;\n  height: 2rem;\n  padding-right: 1rem;\n"]);return A=function(){return e},e}var L=j.b.svg(A()),F=function(e){var n=e.color;return a.a.createElement(L,{xmlns:"http://www.w3.org/2000/svg",viewBox:"20 12.5 60 75"},a.a.createElement("title",null,"Buttplug"),a.a.createElement("path",{stroke:n,fill:n,d:"M70,46c0-9.94-12.9-28-20-28S30,36.06,30,46A20,20,0,0,0,46,65.6V74H34v8H66V74H54V65.6A20,20,0,0,0,70,46ZM38,46c0-6.44,8.6-17.64,12-19.79C53.4,28.36,62,39.56,62,46a12,12,0,0,1-24,0Z"}))};function P(){var e=Object(h.a)(['\n  padding: 2rem;\n  border: 2px solid #ec6e44;\n  border-radius: 10px 30px;\n  margin-bottom: 1rem;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  font-family: "Paytone One";\n  &:hover {\n    background-color: #f6c8c7;\n  }\n']);return P=function(){return e},e}function R(){var e=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return R=function(){return e},e}function V(){var e=Object(h.a)(["\n  height: 100vh;\n  background-color: #f3c1c0;\n  color: #ec6e44;\n  font-family: Monoton;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return V=function(){return e},e}var z=j.b.div(V()),I=j.b.div(R()),U=j.b.div(P());function H(e){var n=e.onDrop,t=Object(B.a)({onDrop:n,accept:"image/*"}),r=t.getRootProps,o=t.getInputProps,c=t.isDragActive;return a.a.createElement(U,r(),a.a.createElement("input",o()),a.a.createElement("p",null,c?"Drop the files here ...":"Drag 'n' drop some files here, or click to select files"))}var N=function(e){var n=e.onFiles,t=e.onNewDevice;return a.a.createElement(z,null,a.a.createElement(I,null,a.a.createElement("span",{style:{fontSize:"8rem",textAlign:"center"}},"Goon"),a.a.createElement(H,{onDrop:n}),a.a.createElement(g,{onNewDevice:t,clickToStart:function(e){var n=e.initiateConnection;return a.a.createElement(U,{onClick:n},a.a.createElement(F,{color:"#EC6E44"}),"Connect Your Toy")},clickToStop:function(e){var n=e.stopConnecting;return a.a.createElement(U,{onClick:n},"Stop Connecting")},connected:function(){return a.a.createElement(U,{disabled:!0},"Connected")},unsupportedBrowser:function(){return a.a.createElement(U,{disabled:!0},"Connect a Toy in Chrome")}})))},Y=t(7),G=t(13),J=function(e,n,t){var r=a.a.useRef(null),o=a.a.useRef(e);return a.a.useEffect((function(){o.current=e})),a.a.useEffect((function(){if("number"===typeof n&&"number"===typeof t){!function e(){var a,c,i=(a=n,c=t,Math.floor(Math.random()*(c-a))+a);r.current=window.setTimeout((function(){o.current(),e()}),i)}()}return function(){return window.clearTimeout(r.current)}}),[n,t]),a.a.useCallback((function(){window.clearTimeout(r.current)}),[])};function W(){var e=Object(h.a)(["\n  flex-grow: 1;\n  background-repeat: no-repeat;\n  background-position: center;\n"]);return W=function(){return e},e}var Z=j.b.div.attrs((function(e){var n=e.src,t=e.displayMode;return{style:{backgroundImage:"url(".concat(n,")"),backgroundSize:t}}}))(W()),$=function(e){return e[Math.floor(Math.random()*e.length)]},q="cover",K="contain",Q=[{name:"a",minDuration:5e3,maxDuration:1e4},{name:"b",minDuration:4e3,maxDuration:8e3},{name:"d",minDuration:1e3,maxDuration:3e3},{name:"e",minDuration:500,maxDuration:1e3},{name:"f",minDuration:200,maxDuration:600},{name:"g",minDuration:100,maxDuration:300}],X=function(e){var n=e.urls,t=e.onAllDisplayed,o=e.speed,c=e.displayMode,i=Object(r.useState)($(n)),l=Object(u.a)(i,2),s=l[0],f=l[1],p=Object(r.useState)(Object(G.a)({},s,!0)),d=Object(u.a)(p,2),m=d[0],b=d[1],v=Object(r.useCallback)((function(e){var r=n.filter((function(e){return void 0===m[e]}));b(Object(Y.a)(Object(Y.a)({},m),{},Object(G.a)({},s,!0))),0===r.length?(f($(n)),t()):f($(r))}),[m,n,s,t]);return J(v,Q[o].minDuration,Q[o].maxDuration),a.a.createElement("div",{style:{display:"flex",minHeight:"100vh",flexDirection:"column"}},a.a.createElement("div",{style:{fontSize:12,marginTop:-5}},Object.keys(m).length," / ",n.length),a.a.createElement(Z,{src:s,displayMode:c}))},_=t(14),ee=t(16),ne=t(33);function te(){var e=Object(h.a)(["\n  animation: ","s infinite ",";\n"]);return te=function(){return e},e}function re(){var e=Object(h.a)(["\n  0% {\n    transform: translateY(0) scale(1);\n  }\n\n  50% {\n    transform: translateY(-3px) scale(0.8);\n  }\n\n  100% {\n    transform: translateY(0) scale(1);\n  }\n"]);return re=function(){return e},e}function ae(){var e=Object(h.a)(["\n  display: flex;\n  align-items: center;\n  height: 10rem;\n  flex-direction: column;\n  position: fixed;\n  bottom: 4rem;\n  right: 3.2rem;\n"]);return ae=function(){return e},e}function oe(){var e=Object(h.a)(["\n  width: 2rem;\n  height: 2rem;\n  position: fixed;\n  background-color: #f3c1c0;\n  border-radius: 50%;\n  bottom: 1rem;\n  right: ","rem;\n  box-shadow: 8px 0px 7px 5px rgb(0 0 0 / 25%), 0 10px 10px rgb(0 0 0 / 22%);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 25px;\n"]);return oe=function(){return e},e}var ce=j.b.div(oe(),(function(e){return 3*(e.position-1)+1})),ie=j.b.div(ae()),ue=Q.length-1,le=function(e){var n=e.rtl,t=e.speed,r=e.onChange;return a.a.createElement(ie,{onClick:function(e){return e.stopPropagation()}},a.a.createElement(_.Range,{direction:_.Direction.Up,values:[t],step:1,min:0,max:ue,onChange:function(e){var n=Object(u.a)(e,1)[0];return r(n)},renderMark:function(e){var n=e.props,r=e.index;return a.a.createElement("div",Object.assign({},n,{style:Object(Y.a)(Object(Y.a)({},n.style),{},{height:r%2?"3px":"4px",width:r%2?"11px":"16px",backgroundColor:1*r>ue-t?"#ec6e44":"#fff"})}))},renderTrack:function(e){var r=e.props,o=e.children;return a.a.createElement("div",{onMouseDown:r.onMouseDown,onTouchStart:r.onTouchStart,style:Object(Y.a)(Object(Y.a)({},r.style),{},{flexGrow:1,width:"2rem",display:"flex",height:"300px"})},a.a.createElement("div",{ref:r.ref,style:{width:"0.25rem",height:"100%",borderRadius:"4px",background:Object(_.getTrackBackground)({values:[t],colors:["#ec6e44","#fff"],min:0,max:ue,direction:_.Direction.Up,rtl:n}),alignSelf:"center"}},o))},renderThumb:function(e){var n=e.props;e.isDragged;return a.a.createElement("div",Object.assign({},n,{style:Object(Y.a)(Object(Y.a)({},n.style),{},{height:"1rem",width:"1rem",borderRadius:"50%",backgroundColor:"#FFF",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0px 2px 6px #AAA"})}))}}))},se=Object(j.c)(re()),fe=Object(j.b)(ne.a)(te(),(function(e){return 5.1-e.speed}),se),pe=function(e){var n=e.speed,t=e.setSpeed,o=Object(r.useState)(!0),c=Object(u.a)(o,2),i=c[0],l=c[1];return a.a.createElement(ce,{position:2,onClick:function(){return l(!i)}},a.a.createElement(fe,{speed:n}),!i&&a.a.createElement(le,{speed:n,onChange:function(e){t(e)}}))},de=function(e){var n=e.display,t=e.setDisplay;return n===q?a.a.createElement(ce,{position:1,onClick:function(){return t(K)}},a.a.createElement(ee.c,null)):a.a.createElement(ce,{position:1,onClick:function(){return t(q)}},a.a.createElement(ee.b,null))},me=function(){return a.a.createElement(ce,{position:3,onClick:function(){return window.location.reload()}},a.a.createElement(ee.a,null))};var be=function(){var e=Object(r.useState)([]),n=Object(u.a)(e,2),t=n[0],o=n[1],c=Object(r.useState)(2),i=Object(u.a)(c,2),l=i[0],p=i[1],d=Object(r.useState)(K),m=Object(u.a)(d,2),b=m[0],v=m[1],g=Object(r.useState)(null),h=Object(u.a)(g,2),j=h[0],x=h[1];!function(e,n){Object(r.useEffect)((function(){function t(){return(t=Object(f.a)(s.a.mark((function n(){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("stopVibrate()"),n.next=3,e.SendStopDeviceCmd();case 3:console.log("stopVibrate() over");case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}e&&(console.log("vibrateEffect: ".concat(n)),n>0?(console.log("startVibrate()"),e.SendVibrateCmd(n),console.log("startVibrate() over")):function(){t.apply(this,arguments)}())}),[e,n])}(j,l/10*2);var O=Object(r.useCallback)((function(e){o(e.reduce((function(e,n){return e[n.path]=Object.assign(n,{preview:URL.createObjectURL(n)}),e}),{}))}),[]),y=!!Object.keys(t).length;return a.a.createElement("main",null,a.a.createElement(E,null),!y&&a.a.createElement(N,{onFiles:O,onNewDevice:x}),y&&a.a.createElement(a.a.Fragment,null,a.a.createElement(pe,{speed:l,setSpeed:p}),a.a.createElement(de,{display:b,setDisplay:v}),a.a.createElement(me,null),a.a.createElement(T,{batchSize:100,files:t,component:function(e){var n=e.urls,t=e.preloadMore;return a.a.createElement(X,{urls:n,onAllDisplayed:t,displayMode:b,speed:l})}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(i.a,null,a.a.createElement(be,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[38,1,2]]]);
//# sourceMappingURL=main.0ac09f7b.chunk.js.map