(this["webpackJsonpgoon-client"]=this["webpackJsonpgoon-client"]||[]).push([[0],{19:function(e,n){e.exports=Buttplug},39:function(e,n,t){e.exports=t(56)},56:function(e,n,t){"use strict";t.r(n);var r=t(1),a=t.n(r),o=t(27),c=t.n(o),i=t(35),l=t(5),u=t(8),s=t.n(u),d=t(11),p=t(19);var m=function(e){var n=e.initiateConnection;return a.a.createElement("button",{onClick:n},"Connect a Toy")},f=function(e){var n=e.stopConnecting;return a.a.createElement("button",{onClick:n},"Stop Connecting")},b=function(){return a.a.createElement("span",null,"Connected!")},g=function(){return a.a.createElement("span",null,"Use Chrome to connect a toy.")};function h(e){var n=e.clickToStart,t=void 0===n?m:n,a=e.clickToStop,o=void 0===a?f:a,c=e.connected,i=void 0===c?b:c,u=e.unsupportedBrowser,h=void 0===u?g:u,v=e.onNewDevice,j=Object(r.useState)(!1),O=Object(l.a)(j,2),x=O[0],E=O[1],w=Object(r.useState)(!1),y=Object(l.a)(w,2),k=y[0],C=y[1];return function(e,n){var t=Object(r.useRef)(null),a=Object(r.useState)([]),o=Object(l.a)(a,2),c=o[0],i=o[1],u=Object(r.useState)(!1),m=Object(l.a)(u,2),f=m[0],b=m[1];Object(r.useEffect)((function(){function r(){return(r=Object(d.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new p.ButtplugEmbeddedClientConnector,e.next=4,t.current.Connect(n);case 4:e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return");case 10:return e.next=12,t.current.StartScanning();case 12:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}t.current&&!e&&(t.current=null),!t.current&&e&&(t.current=new p.ButtplugClient("Cammy"),t.current.addListener("deviceadded",(function(e){i(e),b(!0),n(e)})),function(){r.apply(this,arguments)}())}),[e])}(x,(function(e){C(!0),v(e)})),window.Bluetooth?k?i():x?x?o({stopConnecting:function(){return E(!1)}}):null:t({initiateConnection:function(){return E(!0)}}):h()}var v,j,O,x,E,w,y,k=t(3),C=t(4),S=(t(45),t(46),Object(C.a)(v||(v=Object(k.a)(["\n  html, body {\n    min-height: 100vh;\n    padding: 0;\n    margin: 0;\n    font-size: 20px;\n    background-color: #f3c1c0;\n    color: #FFF;\n  }\n"])))),D=(C.b.div(j||(j=Object(k.a)(["\n  padding: 1rem;\n  box-shadow: 8px 0px 7px 5px rgb(0 0 0 / 25%), 0 10px 10px rgb(0 0 0 / 22%);\n"]))),t(23)),M=t(31),T=t(32),B=t(38),L=t(36),z=function(e){return e[Math.floor(Math.random()*e.length)]},A=function(e){return function(n){for(var t=[];t.length<e&&t.length<n.length;){var r=z(n);t.includes(r)||t.push(r)}return t}},F=function(e){Object(B.a)(t,e);var n=Object(L.a)(t);function t(e){var r;return Object(M.a)(this,t),(r=n.call(this,e)).state={preLoaded:[],unLoaded:Object.keys(e.files)},r}return Object(T.a)(t,[{key:"componentDidMount",value:function(){this.preloadSomeMore()}},{key:"preloadSomeMore",value:function(){var e=Object(d.a)(s.a.mark((function e(){var n,t,r,a,o,c=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.state,t=n.unLoaded,r=n.preLoaded,t.length){e.next=4;break}return console.log("Got em all!"),e.abrupt("return");case 4:if(!this.state.isPreloading){e.next=7;break}return console.log("Already preloading!"),e.abrupt("return");case 7:return this.setState({isPreloading:!0}),a=A(this.props.batchSize)(t),o=a.map((function(e){return new Promise((function(n,t){var r=new Image;r.src=c.props.files[e].preview,r.onload=function(){console.log("preloaded ".concat(e)),n()},r.onerror=function(e){return t(e)}}))})),e.prev=10,e.next=13,Promise.all(o);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10);case 18:this.setState({preLoaded:[].concat(Object(D.a)(r),Object(D.a)(a)),unLoaded:t.filter((function(e){return!a.includes(e)})),isPreloading:!1});case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,n=this.props.component,t=this.state.preLoaded.map((function(n){return e.props.files[n].preview}));return 0===t.length?null:a.a.createElement(n,{urls:t,preloadMore:function(){e.preloadSomeMore()}})}}]),t}(a.a.Component),P=t(20),R=t(37),V=C.b.svg(O||(O=Object(k.a)(["\n  width: 2rem;\n  height: 2rem;\n  padding-right: 1rem;\n"]))),I=function(e){var n=e.color;return a.a.createElement(V,{xmlns:"http://www.w3.org/2000/svg",viewBox:"20 12.5 60 75"},a.a.createElement("title",null,"Buttplug"),a.a.createElement("path",{stroke:n,fill:n,d:"M70,46c0-9.94-12.9-28-20-28S30,36.06,30,46A20,20,0,0,0,46,65.6V74H34v8H66V74H54V65.6A20,20,0,0,0,70,46ZM38,46c0-6.44,8.6-17.64,12-19.79C53.4,28.36,62,39.56,62,46a12,12,0,0,1-24,0Z"}))},U=C.b.div(x||(x=Object(k.a)(["\n  height: 100vh;\n  background-color: #f3c1c0;\n  color: #ec6e44;\n  font-family: Monoton;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),H=C.b.div(E||(E=Object(k.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),N=C.b.div(w||(w=Object(k.a)(['\n  padding: 2rem;\n  border: 2px solid #ec6e44;\n  border-radius: 10px 30px;\n  margin-bottom: 1rem;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  font-family: "Paytone One";\n  &:hover {\n    background-color: #f6c8c7;\n  }\n\n  '," {\n    font-size: 0.875rem;\n    padding: 1rem;\n    margin: 0.25rem;\n  }\n"])),Object(P.down)("md")),Y=C.b.span(y||(y=Object(k.a)(["\n  font-size: 8rem;\n  text-align: center;\n\n  "," {\n    font-size: 5rem;\n  }\n"])),Object(P.down)("md"));function G(e){var n=e.onDrop,t=Object(R.a)({onDrop:n,accept:"image/*"}),r=t.getRootProps,o=t.getInputProps,c=t.isDragActive;return a.a.createElement(N,r(),a.a.createElement("input",o()),a.a.createElement("p",null,c?"Drop the files here ...":"Drag 'n' drop some files here, or click to select files"))}var J,W,Z,$,q,K=function(e){var n=e.onFiles,t=e.onNewDevice;return a.a.createElement(U,null,a.a.createElement(H,null,a.a.createElement(Y,null,"Goon"),a.a.createElement(G,{onDrop:n}),a.a.createElement(h,{onNewDevice:t,clickToStart:function(e){var n=e.initiateConnection;return a.a.createElement(N,{onClick:n},a.a.createElement(I,{color:"#EC6E44"}),"Connect Your Toy")},clickToStop:function(e){var n=e.stopConnecting;return a.a.createElement(N,{onClick:n},"Stop Connecting")},connected:function(){return a.a.createElement(N,{disabled:!0},"Connected")},unsupportedBrowser:function(){return a.a.createElement(N,{disabled:!0},"Connect a Toy in Chrome")}})))},Q=t(7),X=t(13),_=function(e,n,t){var r=a.a.useRef(null),o=a.a.useRef(e);return a.a.useEffect((function(){o.current=e})),a.a.useEffect((function(){if("number"===typeof n&&"number"===typeof t){!function e(){var a,c,i=(a=n,c=t,Math.floor(Math.random()*(c-a))+a);r.current=window.setTimeout((function(){o.current(),e()}),i)}()}return function(){return window.clearTimeout(r.current)}}),[n,t]),a.a.useCallback((function(){window.clearTimeout(r.current)}),[])},ee=C.b.div.attrs((function(e){var n=e.src,t=e.displayMode;return{style:{backgroundImage:"url(".concat(n,")"),backgroundSize:t}}}))(J||(J=Object(k.a)(["\n  flex-grow: 1;\n  background-repeat: no-repeat;\n  background-position: center;\n"]))),ne=function(e){return e[Math.floor(Math.random()*e.length)]},te="cover",re="contain",ae=[{name:"a",minDuration:5e3,maxDuration:1e4},{name:"b",minDuration:4e3,maxDuration:8e3},{name:"d",minDuration:1e3,maxDuration:3e3},{name:"e",minDuration:500,maxDuration:1e3},{name:"f",minDuration:200,maxDuration:600},{name:"g",minDuration:100,maxDuration:300}],oe=function(e){var n=e.urls,t=e.onAllDisplayed,o=e.speed,c=e.displayMode,i=Object(r.useState)(ne(n)),u=Object(l.a)(i,2),s=u[0],d=u[1],p=Object(r.useState)(Object(X.a)({},s,!0)),m=Object(l.a)(p,2),f=m[0],b=m[1],g=Object(r.useCallback)((function(e){var r=n.filter((function(e){return void 0===f[e]}));b(Object(Q.a)(Object(Q.a)({},f),{},Object(X.a)({},s,!0))),0===r.length?(d(ne(n)),t()):d(ne(r))}),[f,n,s,t]);return _(g,ae[o].minDuration,ae[o].maxDuration),a.a.createElement("div",{style:{display:"flex",minHeight:"100vh",flexDirection:"column"}},a.a.createElement("div",{style:{fontSize:12,marginTop:-5}},Object.keys(f).length," / ",n.length),a.a.createElement(ee,{src:s,displayMode:c}))},ce=t(14),ie=t(16),le=t(34),ue=C.b.div(W||(W=Object(k.a)(["\n  width: 2rem;\n  height: 2rem;\n  position: fixed;\n  background-color: #f3c1c0;\n  border-radius: 50%;\n  bottom: 1rem;\n  right: ","rem;\n  box-shadow: 8px 0px 7px 5px rgb(0 0 0 / 25%), 0 10px 10px rgb(0 0 0 / 22%);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 25px;\n"])),(function(e){return 3*(e.position-1)+1})),se=C.b.div(Z||(Z=Object(k.a)(["\n  display: flex;\n  align-items: center;\n  height: 10rem;\n  flex-direction: column;\n  position: fixed;\n  bottom: 4rem;\n  right: 3.2rem;\n"]))),de=ae.length-1,pe=function(e){var n=e.rtl,t=e.speed,r=e.onChange;return a.a.createElement(se,{onClick:function(e){return e.stopPropagation()}},a.a.createElement(ce.Range,{direction:ce.Direction.Up,values:[t],step:1,min:0,max:de,onChange:function(e){var n=Object(l.a)(e,1)[0];return r(n)},renderMark:function(e){var n=e.props,r=e.index;return a.a.createElement("div",Object.assign({},n,{style:Object(Q.a)(Object(Q.a)({},n.style),{},{height:r%2?"3px":"4px",width:r%2?"11px":"16px",backgroundColor:1*r>de-t?"#ec6e44":"#fff"})}))},renderTrack:function(e){var r=e.props,o=e.children;return a.a.createElement("div",{onMouseDown:r.onMouseDown,onTouchStart:r.onTouchStart,style:Object(Q.a)(Object(Q.a)({},r.style),{},{flexGrow:1,width:"2rem",display:"flex",height:"300px"})},a.a.createElement("div",{ref:r.ref,style:{width:"0.25rem",height:"100%",borderRadius:"4px",background:Object(ce.getTrackBackground)({values:[t],colors:["#ec6e44","#fff"],min:0,max:de,direction:ce.Direction.Up,rtl:n}),alignSelf:"center"}},o))},renderThumb:function(e){var n=e.props;e.isDragged;return a.a.createElement("div",Object.assign({},n,{style:Object(Q.a)(Object(Q.a)({},n.style),{},{height:"1rem",width:"1rem",borderRadius:"50%",backgroundColor:"#FFF",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0px 2px 6px #AAA"})}))}}))},me=Object(C.c)($||($=Object(k.a)(["\n  0% {\n    transform: translateY(0) scale(1);\n  }\n\n  50% {\n    transform: translateY(-3px) scale(0.8);\n  }\n\n  100% {\n    transform: translateY(0) scale(1);\n  }\n"]))),fe=Object(C.b)(le.a)(q||(q=Object(k.a)(["\n  animation: ","s infinite ",";\n"])),(function(e){return 5.1-e.speed}),me),be=function(e){var n=e.speed,t=e.setSpeed,o=Object(r.useState)(!0),c=Object(l.a)(o,2),i=c[0],u=c[1];return a.a.createElement(ue,{position:2,onClick:function(){return u(!i)}},a.a.createElement(fe,{speed:n}),!i&&a.a.createElement(pe,{speed:n,onChange:function(e){t(e)}}))},ge=function(e){var n=e.display,t=e.setDisplay;return n===te?a.a.createElement(ue,{position:1,onClick:function(){return t(re)}},a.a.createElement(ie.c,null)):a.a.createElement(ue,{position:1,onClick:function(){return t(te)}},a.a.createElement(ie.b,null))},he=function(){return a.a.createElement(ue,{position:3,onClick:function(){return window.location.reload()}},a.a.createElement(ie.a,null))};var ve=function(){var e=Object(r.useState)([]),n=Object(l.a)(e,2),t=n[0],o=n[1],c=Object(r.useState)(2),i=Object(l.a)(c,2),u=i[0],p=i[1],m=Object(r.useState)(re),f=Object(l.a)(m,2),b=f[0],g=f[1],h=Object(r.useState)(null),v=Object(l.a)(h,2),j=v[0],O=v[1];!function(e,n){Object(r.useEffect)((function(){function t(){return(t=Object(d.a)(s.a.mark((function n(){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("stopVibrate()"),n.next=3,e.SendStopDeviceCmd();case 3:console.log("stopVibrate() over");case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}e&&(console.log("vibrateEffect: ".concat(n)),n>0?(console.log("startVibrate()"),e.SendVibrateCmd(n),console.log("startVibrate() over")):function(){t.apply(this,arguments)}())}),[e,n])}(j,u/10*2);var x=Object(r.useCallback)((function(e){o(e.reduce((function(e,n){return e[n.path]=Object.assign(n,{preview:URL.createObjectURL(n)}),e}),{}))}),[]),E=!!Object.keys(t).length;return a.a.createElement("main",null,a.a.createElement(S,null),!E&&a.a.createElement(K,{onFiles:x,onNewDevice:O}),E&&a.a.createElement(a.a.Fragment,null,a.a.createElement(be,{speed:u,setSpeed:p}),a.a.createElement(ge,{display:b,setDisplay:g}),a.a.createElement(he,null),a.a.createElement(F,{batchSize:100,files:t,component:function(e){var n=e.urls,t=e.preloadMore;return a.a.createElement(oe,{urls:n,onAllDisplayed:t,displayMode:b,speed:u})}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(i.a,null,a.a.createElement(ve,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.843cbf43.chunk.js.map