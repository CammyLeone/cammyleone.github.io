{"version":3,"sources":["../external \"Buttplug\"","../../src/ConnectAToy.js","../../src/useButtPlug.js","Layout.js","AsyncGoon.js","ButtplugIcon.js","GetStarted.js","useRandomInterval.js","GoonImage.js","RotatingImages.js","Knobs.js","App.js","../../src/useVibration.js","serviceWorker.js","index.js"],"names":["module","exports","Buttplug","DefaultClickToStart","initiateConnection","onClick","DefaultClickToStop","stopConnecting","DefaultConnected","DefaultUnsupportedBrowser","ConnectAToy","clickToStart","clickToStop","connected","unsupportedBrowser","onNewDevice","useState","ready","client","useRef","useEffect","a","connector","console","device","setDevice","setIsConnected","start","useButtPlug","isReady","setConnected","window","setReady","GlobalStyle","createGlobalStyle","styled","div","selectRandom","array","Math","floor","random","length","selectRandomSlice","size","slice","toSelect","includes","push","AsyncGoon","props","state","preLoaded","unLoaded","Object","keys","files","this","preloadSomeMore","log","isPreloading","setState","pathsToLoad","batchSize","promises","map","path","Promise","resolve","reject","img","Image","src","preview","onload","onerror","e","all","filter","Component","component","urls","f","preloadMore","React","SVG","svg","color","xmlns","viewBox","stroke","fill","d","GetStartedContainer","GetStartedContent","Button","DropFilesHere","onDrop","useDropzone","accept","getRootProps","getInputProps","isDragActive","GetStarted","onFiles","style","fontSize","textAlign","ButtplugIcon","disabled","useRandomInterval","callback","minDelay","maxDelay","timeoutId","savedCallback","current","handleTick","min","max","nextTickAt","setTimeout","clearTimeout","useCallback","ContainedImage","attrs","displayMode","backgroundImage","backgroundSize","DisplayModes","Speeds","name","minDuration","maxDuration","RotatingImages","onAllDisplayed","speed","setCurrent","seen","setSeen","rotate","stop","unSeen","url","undefined","display","minHeight","flexDirection","marginTop","GoonImage","KnobCircle","position","SpeedRangeContainer","MAX","SpeedRange","rtl","onChange","stopPropagation","direction","Direction","Up","values","step","renderMark","index","height","width","backgroundColor","renderTrack","children","onMouseDown","onTouchStart","flexGrow","ref","borderRadius","background","getTrackBackground","colors","alignSelf","renderThumb","isDragged","justifyContent","alignItems","boxShadow","bounce","keyframes","RabbitBounce","GiRabbit","SpeedKnob","setSpeed","hidden","setHidden","DisplayModeKnob","setDisplay","StartOverKnob","location","reload","App","setFiles","level","stopVibrate","useVibration","onFilesReceived","acceptedFiles","reduce","acc","file","assign","URL","createObjectURL","hasFiles","Boolean","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.0ac09f7b.chunk.js","sourcesContent":["module.exports = Buttplug;","import React, { useState } from \"react\";\nimport useButtPlug from \"./useButtPlug\";\n\nconst DefaultClickToStart = ({ initiateConnection }) => (\n  <button onClick={initiateConnection}>Connect a Toy</button>\n);\nconst DefaultClickToStop = ({ stopConnecting }) => (\n  <button onClick={stopConnecting}>Stop Connecting</button>\n);\nconst DefaultConnected = () => <span>Connected!</span>;\nconst DefaultUnsupportedBrowser = () => (\n  <span>Use Chrome to connect a toy.</span>\n);\n\nexport default function ConnectAToy({\n  clickToStart = DefaultClickToStart,\n  clickToStop = DefaultClickToStop,\n  connected = DefaultConnected,\n  unsupportedBrowser = DefaultUnsupportedBrowser,\n  onNewDevice,\n}) {\n  const [isReady, setReady] = useState(false);\n  const [isConnected, setConnected] = useState(false);\n\n  useButtPlug(isReady, (device) => {\n    setConnected(true);\n    onNewDevice(device);\n  });\n\n  if (!window.Bluetooth) return unsupportedBrowser();\n  if (isConnected) return connected();\n  if (!isReady)\n    return clickToStart({ initiateConnection: () => setReady(true) });\n  if (isReady) return clickToStop({ stopConnecting: () => setReady(false) });\n  return null;\n}\n","import { useState, useEffect, useRef } from \"react\";\nimport { ButtplugClient, ButtplugEmbeddedClientConnector } from \"buttplug\";\n\nexport default function useButtPlug(ready, onNewDevice) {\n  const client = useRef(null);\n  const [device, setDevice] = useState([]);\n  const [isConnected, setIsConnected] = useState(false);\n\n  useEffect(() => {\n    if (client.current && !ready) {\n      client.current = null;\n    }\n    if (client.current || !ready) return;\n\n    client.current = new ButtplugClient(\"Cammy\");\n    client.current.addListener(\"deviceadded\", (device) => {\n      setDevice(device);\n      setIsConnected(true);\n      onNewDevice(device);\n    });\n\n    async function start() {\n      try {\n        const connector = new ButtplugEmbeddedClientConnector();\n        await client.current.Connect(connector);\n      } catch (e) {\n        console.log(e);\n        return;\n      }\n      await client.current.StartScanning();\n    }\n    start();\n  }, [ready]);\n\n  return { client, device, isConnected };\n}\n","import styled, { createGlobalStyle } from \"styled-components\";\nimport \"@fontsource/monoton\";\nimport \"@fontsource/paytone-one\";\n// import { up } from \"styled-breakpoints\";\n\nexport const GlobalStyle = createGlobalStyle`\n  html, body {\n    min-height: 100vh;\n    padding: 0;\n    margin: 0;\n    font-size: 20px;\n    background-color: #f3c1c0;\n    color: #FFF;\n  }\n`;\n\nexport const Drawer = styled.div`\n  padding: 1rem;\n  box-shadow: 8px 0px 7px 5px rgb(0 0 0 / 25%), 0 10px 10px rgb(0 0 0 / 22%);\n`;\n","import React from \"react\";\n\nconst selectRandom = (array) => array[Math.floor(Math.random() * array.length)];\nconst selectRandomSlice = (size) => (array) => {\n  const slice = [];\n  while (slice.length < size && slice.length < array.length) {\n    const toSelect = selectRandom(array);\n    if (!slice.includes(toSelect)) {\n      slice.push(toSelect);\n    }\n  }\n  return slice;\n};\n\nclass AsyncGoon extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      preLoaded: [],\n      unLoaded: Object.keys(props.files),\n    };\n  }\n\n  componentDidMount() {\n    this.preloadSomeMore();\n  }\n\n  async preloadSomeMore() {\n    const { unLoaded, preLoaded } = this.state;\n    if (!unLoaded.length) {\n      console.log(\"Got em all!\");\n      return;\n    }\n\n    if (this.state.isPreloading) {\n      console.log(\"Already preloading!\");\n      return;\n    }\n    this.setState({ isPreloading: true });\n\n    const pathsToLoad = selectRandomSlice(this.props.batchSize)(unLoaded);\n    const promises = pathsToLoad.map(\n      (path) =>\n        new Promise((resolve, reject) => {\n          const img = new Image();\n          img.src = this.props.files[path].preview;\n          img.onload = () => {\n            console.log(`preloaded ${path}`);\n            resolve();\n          };\n          img.onerror = (e) => reject(e);\n        })\n    );\n    try {\n      await Promise.all(promises);\n    } catch (e) {\n      debugger;\n    }\n    this.setState({\n      preLoaded: [...preLoaded, ...pathsToLoad],\n      unLoaded: unLoaded.filter((path) => !pathsToLoad.includes(path)),\n      isPreloading: false,\n    });\n  }\n\n  render() {\n    const Component = this.props.component;\n    const urls = this.state.preLoaded.map((f) => this.props.files[f].preview);\n    if (urls.length === 0) return null;\n\n    return (\n      <Component\n        urls={urls}\n        preloadMore={() => {\n          this.preloadSomeMore();\n        }}\n      />\n    );\n  }\n}\n\nexport default AsyncGoon;\n","import React from \"react\";\nimport styled from \"styled-components\";\nconst SVG = styled.svg`\n  width: 2rem;\n  height: 2rem;\n  padding-right: 1rem;\n`;\nexport default ({ color }) => (\n  <SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"20 12.5 60 75\">\n    <title>Buttplug</title>\n    <path\n      stroke={color}\n      fill={color}\n      d=\"M70,46c0-9.94-12.9-28-20-28S30,36.06,30,46A20,20,0,0,0,46,65.6V74H34v8H66V74H54V65.6A20,20,0,0,0,70,46ZM38,46c0-6.44,8.6-17.64,12-19.79C53.4,28.36,62,39.56,62,46a12,12,0,0,1-24,0Z\"\n    />\n  </SVG>\n);\n","import React from \"react\";\nimport { ConnectAToy } from \"react-buttplug\";\nimport styled from \"styled-components\";\nimport { useDropzone } from \"react-dropzone\";\nimport ButtplugIcon from \"./ButtplugIcon\";\n\nconst GetStartedContainer = styled.div`\n  height: 100vh;\n  background-color: #f3c1c0;\n  color: #ec6e44;\n  font-family: Monoton;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst GetStartedContent = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst Button = styled.div`\n  padding: 2rem;\n  border: 2px solid #ec6e44;\n  border-radius: 10px 30px;\n  margin-bottom: 1rem;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  font-family: \"Paytone One\";\n  &:hover {\n    background-color: #f6c8c7;\n  }\n`;\n\nfunction DropFilesHere({ onDrop }) {\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\n    onDrop,\n    accept: \"image/*\",\n  });\n  return (\n    <Button {...getRootProps()}>\n      <input {...getInputProps()} />\n      <p>\n        {isDragActive\n          ? \"Drop the files here ...\"\n          : \"Drag 'n' drop some files here, or click to select files\"}\n      </p>\n    </Button>\n  );\n}\nconst GetStarted = ({ onFiles, onNewDevice }) => (\n  <GetStartedContainer>\n    <GetStartedContent>\n      <span style={{ fontSize: \"8rem\", textAlign: \"center\" }}>Goon</span>\n      <DropFilesHere onDrop={onFiles} />\n      <ConnectAToy\n        onNewDevice={onNewDevice}\n        clickToStart={({ initiateConnection }) => (\n          <Button onClick={initiateConnection}>\n            <ButtplugIcon color=\"#EC6E44\" />\n            Connect Your Toy\n          </Button>\n        )}\n        clickToStop={({ stopConnecting }) => (\n          <Button onClick={stopConnecting}>Stop Connecting</Button>\n        )}\n        connected={() => <Button disabled>Connected</Button>}\n        unsupportedBrowser={() => (\n          <Button disabled>Connect a Toy in Chrome</Button>\n        )}\n      />\n    </GetStartedContent>\n  </GetStartedContainer>\n);\nexport default GetStarted;\n","import React from \"react\";\n// Utility helper for random number generation\nconst random = (min, max) => Math.floor(Math.random() * (max - min)) + min;\nconst useRandomInterval = (callback, minDelay, maxDelay) => {\n  const timeoutId = React.useRef(null);\n  const savedCallback = React.useRef(callback);\n  React.useEffect(() => {\n    savedCallback.current = callback;\n  });\n  React.useEffect(() => {\n    let isEnabled =\n      typeof minDelay === \"number\" && typeof maxDelay === \"number\";\n    if (isEnabled) {\n      const handleTick = () => {\n        const nextTickAt = random(minDelay, maxDelay);\n        timeoutId.current = window.setTimeout(() => {\n          savedCallback.current();\n          handleTick();\n        }, nextTickAt);\n      };\n      handleTick();\n    }\n    return () => window.clearTimeout(timeoutId.current);\n  }, [minDelay, maxDelay]);\n  const cancel = React.useCallback(function () {\n    window.clearTimeout(timeoutId.current);\n  }, []);\n  return cancel;\n};\nexport default useRandomInterval;\n","import styled from \"styled-components\";\n\nconst ContainedImage = styled.div.attrs(({ src, displayMode }) => ({\n  style: {\n    backgroundImage: `url(${src})`,\n    backgroundSize: displayMode,\n  },\n}))`\n  flex-grow: 1;\n  background-repeat: no-repeat;\n  background-position: center;\n`;\n\nexport default ContainedImage;\n","import React, { useState, useCallback } from \"react\";\nimport useRandomInterval from \"./useRandomInterval\";\nimport GoonImage from \"./GoonImage\";\n\nconst selectRandom = (array) => array[Math.floor(Math.random() * array.length)];\n\nexport const DisplayModes = {\n  ZOOM: \"cover\",\n  FULL: \"contain\",\n};\n\nexport const Speeds = [\n  { name: \"a\", minDuration: 5000, maxDuration: 10000 },\n  { name: \"b\", minDuration: 4000, maxDuration: 8000 },\n  { name: \"d\", minDuration: 1000, maxDuration: 3000 },\n  { name: \"e\", minDuration: 500, maxDuration: 1000 },\n  { name: \"f\", minDuration: 200, maxDuration: 600 },\n  { name: \"g\", minDuration: 100, maxDuration: 300 },\n];\n\nconst RotatingImages = ({ urls, onAllDisplayed, speed, displayMode }) => {\n  const [current, setCurrent] = useState(selectRandom(urls));\n  const [seen, setSeen] = useState({ [current]: true });\n\n  const rotate = useCallback(\n    (stop) => {\n      const unSeen = urls.filter((url) => seen[url] === undefined);\n      setSeen({ ...seen, [current]: true });\n      if (unSeen.length === 0) {\n        setCurrent(selectRandom(urls));\n        onAllDisplayed();\n      } else {\n        setCurrent(selectRandom(unSeen));\n      }\n    },\n    [seen, urls, current, onAllDisplayed]\n  );\n\n  useRandomInterval(\n    rotate,\n    Speeds[speed].minDuration,\n    Speeds[speed].maxDuration\n  );\n\n  return (\n    <div\n      style={{ display: \"flex\", minHeight: \"100vh\", flexDirection: \"column\" }}\n    >\n      <div style={{ fontSize: 12, marginTop: -5 }}>\n        {Object.keys(seen).length} / {urls.length}\n      </div>\n      <GoonImage src={current} displayMode={displayMode} />\n    </div>\n  );\n};\n\nexport default RotatingImages;\n","import React, { useState } from \"react\";\nimport styled, { keyframes } from \"styled-components\";\nimport { Range, Direction, getTrackBackground } from \"react-range\";\nimport {\n  AiOutlineZoomIn,\n  AiOutlineZoomOut,\n  AiOutlineReload,\n} from \"react-icons/ai\";\nimport { GiRabbit } from \"react-icons/gi\";\nimport { Speeds, DisplayModes } from \"./RotatingImages\";\n\nexport const KnobCircle = styled.div`\n  width: 2rem;\n  height: 2rem;\n  position: fixed;\n  background-color: #f3c1c0;\n  border-radius: 50%;\n  bottom: 1rem;\n  right: ${(props) => (props.position - 1) * 3 + 1}rem;\n  box-shadow: 8px 0px 7px 5px rgb(0 0 0 / 25%), 0 10px 10px rgb(0 0 0 / 22%);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 25px;\n`;\n\nconst SpeedRangeContainer = styled.div`\n  display: flex;\n  align-items: center;\n  height: 10rem;\n  flex-direction: column;\n  position: fixed;\n  bottom: 4rem;\n  right: 3.2rem;\n`;\nconst STEP = 1;\nconst MIN = 0;\nconst MAX = Speeds.length - 1;\n\nexport const SpeedRange = ({ rtl, speed, onChange }) => {\n  return (\n    <SpeedRangeContainer onClick={(e) => e.stopPropagation()}>\n      <Range\n        direction={Direction.Up}\n        values={[speed]}\n        step={STEP}\n        min={MIN}\n        max={MAX}\n        onChange={([speed]) => onChange(speed)}\n        renderMark={({ props, index }) => (\n          <div\n            {...props}\n            style={{\n              ...props.style,\n              height: index % 2 ? \"3px\" : \"4px\",\n              width: index % 2 ? \"11px\" : \"16px\",\n              backgroundColor: index * STEP > MAX - speed ? \"#ec6e44\" : \"#fff\",\n            }}\n          />\n        )}\n        renderTrack={({ props, children }) => (\n          <div\n            onMouseDown={props.onMouseDown}\n            onTouchStart={props.onTouchStart}\n            style={{\n              ...props.style,\n              flexGrow: 1,\n              width: \"2rem\",\n              display: \"flex\",\n              height: \"300px\",\n            }}\n          >\n            <div\n              ref={props.ref}\n              style={{\n                width: \"0.25rem\",\n                height: \"100%\",\n                borderRadius: \"4px\",\n                background: getTrackBackground({\n                  values: [speed],\n                  colors: [\"#ec6e44\", \"#fff\"],\n                  min: MIN,\n                  max: MAX,\n                  direction: Direction.Up,\n                  rtl,\n                }),\n                alignSelf: \"center\",\n              }}\n            >\n              {children}\n            </div>\n          </div>\n        )}\n        renderThumb={({ props, isDragged }) => (\n          <div\n            {...props}\n            style={{\n              ...props.style,\n              height: \"1rem\",\n              width: \"1rem\",\n              borderRadius: \"50%\",\n              backgroundColor: \"#FFF\",\n              display: \"flex\",\n              justifyContent: \"center\",\n              alignItems: \"center\",\n              boxShadow: \"0px 2px 6px #AAA\",\n            }}\n          />\n        )}\n      />\n    </SpeedRangeContainer>\n  );\n};\n\nconst bounce = keyframes`\n  0% {\n    transform: translateY(0) scale(1);\n  }\n\n  50% {\n    transform: translateY(-3px) scale(0.8);\n  }\n\n  100% {\n    transform: translateY(0) scale(1);\n  }\n`;\nconst RabbitBounce = styled(GiRabbit)`\n  animation: ${(props) => 5.1 - props.speed}s infinite ${bounce};\n`;\nexport const SpeedKnob = ({ speed, setSpeed }) => {\n  const [hidden, setHidden] = useState(true);\n  return (\n    <KnobCircle position={2} onClick={() => setHidden(!hidden)}>\n      <RabbitBounce speed={speed} />\n      {!hidden && (\n        <SpeedRange\n          speed={speed}\n          onChange={(speed) => {\n            setSpeed(speed);\n          }}\n        />\n      )}\n    </KnobCircle>\n  );\n};\n\nexport const DisplayModeKnob = ({ display, setDisplay }) => {\n  if (display === DisplayModes.ZOOM)\n    return (\n      <KnobCircle position={1} onClick={() => setDisplay(DisplayModes.FULL)}>\n        <AiOutlineZoomOut />\n      </KnobCircle>\n    );\n\n  return (\n    <KnobCircle position={1} onClick={() => setDisplay(DisplayModes.ZOOM)}>\n      <AiOutlineZoomIn />\n    </KnobCircle>\n  );\n};\n\nexport const StartOverKnob = () => (\n  <KnobCircle position={3} onClick={() => window.location.reload()}>\n    <AiOutlineReload />\n  </KnobCircle>\n);\n","import React, { useState, useCallback } from \"react\";\nimport { useVibration } from \"react-buttplug\";\n\nimport { GlobalStyle } from \"./Layout\";\nimport AsyncGoon from \"./AsyncGoon\";\nimport GetStarted from \"./GetStarted\";\nimport RotatingImages, { DisplayModes } from \"./RotatingImages\";\nimport { SpeedKnob, DisplayModeKnob, StartOverKnob } from \"./Knobs\";\n\nfunction App() {\n  const [files, setFiles] = useState([]);\n  const [speed, setSpeed] = useState(2);\n  const [display, setDisplay] = useState(DisplayModes.FULL);\n  const [device, setDevice] = useState(null);\n  useVibration(device, (speed / 10) * 2);\n\n  const onFilesReceived = useCallback((acceptedFiles) => {\n    setFiles(\n      acceptedFiles.reduce((acc, file) => {\n        acc[file.path] = Object.assign(file, {\n          preview: URL.createObjectURL(file),\n        });\n        return acc;\n      }, {})\n    );\n  }, []);\n\n  const hasFiles = !!Object.keys(files).length;\n  return (\n    <main>\n      <GlobalStyle />\n      {!hasFiles && (\n        <GetStarted onFiles={onFilesReceived} onNewDevice={setDevice} />\n      )}\n      {hasFiles && (\n        <>\n          <SpeedKnob speed={speed} setSpeed={setSpeed} />\n          <DisplayModeKnob display={display} setDisplay={setDisplay} />\n          <StartOverKnob />\n          <AsyncGoon\n            batchSize={100}\n            files={files}\n            component={({ urls, preloadMore }) => (\n              <RotatingImages\n                urls={urls}\n                onAllDisplayed={preloadMore}\n                displayMode={display}\n                speed={speed}\n              />\n            )}\n          />\n        </>\n      )}\n    </main>\n  );\n}\nexport default App;\n","import { useEffect } from \"react\";\n\nexport default function useVibrate(device, level) {\n  useEffect(() => {\n    if (!device) return;\n\n    function startVibrate() {\n      console.log(\"startVibrate()\");\n      device.SendVibrateCmd(level);\n      console.log(\"startVibrate() over\");\n    }\n\n    async function stopVibrate() {\n      console.log(\"stopVibrate()\");\n      await device.SendStopDeviceCmd();\n      console.log(\"stopVibrate() over\");\n    }\n\n    console.log(`vibrateEffect: ${level}`);\n    if (level > 0) {\n      startVibrate();\n    } else {\n      stopVibrate();\n    }\n  }, [device, level]);\n\n  return null;\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { HashRouter } from \"react-router-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}