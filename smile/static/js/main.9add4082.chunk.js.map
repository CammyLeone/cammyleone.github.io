{"version":3,"sources":["../external \"Buttplug\"","lib/faceapi.js","../../src/ConnectAToy.js","../../src/useButtPlug.js","lib/dominantExpression.js","DominantExpression.js","HappyButtplug.js","../../src/useVibration.js","PaintedResults.js","Smile.js","layout/index.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Buttplug","initialize","a","faceapi","tinyFaceDetector","loadFromUri","faceLandmark68Net","faceRecognitionNet","faceExpressionNet","detectFacialExpressions","video","withFaceLandmarks","withFaceExpressions","detections","length","DefaultClickToStart","initiateConnection","onClick","DefaultClickToStop","stopConnecting","DefaultConnected","DefaultUnsupportedBrowser","ConnectAToy","clickToStart","clickToStop","connected","unsupportedBrowser","onNewDevice","useState","ready","client","useRef","useEffect","connector","console","device","setDevice","setIsConnected","start","useButtPlug","isReady","setConnected","window","setReady","expressions","dominant","Object","keys","sort","b","expression","confidence","Detection","styled","className","DominantExpression","dominantExpression","Math","round","HappyButtplug","level","stopVibrate","useVibration","PaintedResults","canvasEl","displayValues","width","height","resizedDetections","getContext","clearRect","drawDetections","Smile","resultsEl","setDetections","detectAndPaint","detectAgain","requestAnimationFrame","GlobalStyle","createGlobalStyle","Container","div","Button","Svg","svg","ButtplugIcon","color","xmlns","viewBox","stroke","fill","d","App","faceApiInitialized","setFaceApiInitialized","begun","setBegun","webcam","resultsRef","initialized","current","initializeFaceAPI","init","log","style","position","ref","videoConstraints","top","left","disabled","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.9add4082.chunk.js","sourcesContent":["module.exports = Buttplug;","import * as faceapi from \"face-api.js\";\n\nexport async function initialize() {\n  await faceapi.nets.tinyFaceDetector.loadFromUri(\"/smile/models\");\n  await faceapi.nets.faceLandmark68Net.loadFromUri(\"/smile/models\");\n  await faceapi.nets.faceRecognitionNet.loadFromUri(\"/smile/models\");\n  await faceapi.nets.faceExpressionNet.loadFromUri(\"/smile/models\");\n}\n\nexport async function detectFacialExpressions(video) {\n  const detections = await faceapi\n    .detectAllFaces(video, new faceapi.TinyFaceDetectorOptions())\n    .withFaceLandmarks()\n    .withFaceExpressions();\n  return detections.length ? detections : null;\n}\n","import React, { useState } from \"react\";\nimport useButtPlug from \"./useButtPlug\";\n\nconst DefaultClickToStart = ({ initiateConnection }) => (\n  <button onClick={initiateConnection}>Connect a Toy</button>\n);\nconst DefaultClickToStop = ({ stopConnecting }) => (\n  <button onClick={stopConnecting}>Stop Connecting</button>\n);\nconst DefaultConnected = () => <span>Connected!</span>;\nconst DefaultUnsupportedBrowser = () => (\n  <span>Use Chrome to connect a toy.</span>\n);\n\nexport default function ConnectAToy({\n  clickToStart = DefaultClickToStart,\n  clickToStop = DefaultClickToStop,\n  connected = DefaultConnected,\n  unsupportedBrowser = DefaultUnsupportedBrowser,\n  onNewDevice,\n}) {\n  const [isReady, setReady] = useState(false);\n  const [isConnected, setConnected] = useState(false);\n\n  useButtPlug(isReady, (device) => {\n    setConnected(true);\n    onNewDevice(device);\n  });\n\n  if (!window.Bluetooth) return unsupportedBrowser();\n  if (isConnected) return connected();\n  if (!isReady)\n    return clickToStart({ initiateConnection: () => setReady(true) });\n  if (isReady) return clickToStop({ stopConnecting: () => setReady(false) });\n  return null;\n}\n","import { useState, useEffect, useRef } from \"react\";\nimport { ButtplugClient, ButtplugEmbeddedClientConnector } from \"buttplug\";\n\nexport default function useButtPlug(ready, onNewDevice) {\n  const client = useRef(null);\n  const [device, setDevice] = useState([]);\n  const [isConnected, setIsConnected] = useState(false);\n\n  useEffect(() => {\n    if (client.current && !ready) {\n      client.current = null;\n    }\n    if (client.current || !ready) return;\n\n    client.current = new ButtplugClient(\"Cammy\");\n    client.current.addListener(\"deviceadded\", (device) => {\n      setDevice(device);\n      setIsConnected(true);\n      onNewDevice(device);\n    });\n\n    async function start() {\n      try {\n        const connector = new ButtplugEmbeddedClientConnector();\n        await client.current.Connect(connector);\n      } catch (e) {\n        console.log(e);\n        return;\n      }\n      await client.current.StartScanning();\n    }\n    start();\n  }, [ready]);\n\n  return { client, device, isConnected };\n}\n","export default (expressions) => {\n  const sortedExpressions = Object.keys(expressions).sort(\n    (a, b) => expressions[b] - expressions[a]\n  );\n  const dominant = sortedExpressions[0];\n  return {\n    expression: dominant,\n    confidence: expressions[dominant],\n  };\n};\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport dominantExpression from \"./lib/dominantExpression\";\n\nconst DominantExpression = ({ expressions }) => {\n  if (!expressions) return <Detection expression=\"Nothing detected\" />;\n  const { expression, confidence } = dominantExpression(expressions);\n\n  return (\n    <Detection\n      expression={expression}\n      confidence={Math.round(confidence * 100) / 100}\n    />\n  );\n};\n\nconst Detection = styled(({ expression, confidence, className }) => (\n  <div className={className}>\n    <h1>{expression}</h1>\n    <h1>{confidence ? `confidence: ${confidence}` : \"\"}</h1>\n  </div>\n))`\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  place-content: space-between;\n`;\n\nexport default DominantExpression;\n","import dominantExpression from \"./lib/dominantExpression\";\nimport { useVibration } from \"react-buttplug\";\n\nconst HappyButtplug = ({ device, expressions }) => {\n  const expression = expressions && dominantExpression(expressions).expression;\n\n  useVibration(device, expression === \"happy\" ? 1 : 0);\n  return null;\n};\n\nexport default HappyButtplug;\n","import { useEffect } from \"react\";\n\nexport default function useVibrate(device, level) {\n  useEffect(() => {\n    if (!device) return;\n\n    function startVibrate() {\n      console.log(\"startVibrate()\");\n      device.SendVibrateCmd(level);\n      console.log(\"startVibrate() over\");\n    }\n\n    async function stopVibrate() {\n      console.log(\"stopVibrate()\");\n      await device.SendStopDeviceCmd();\n      console.log(\"stopVibrate() over\");\n    }\n\n    console.log(`vibrateEffect: ${level}`);\n    if (level > 0) {\n      startVibrate();\n    } else {\n      stopVibrate();\n    }\n  }, [device, level]);\n\n  return null;\n}\n","import * as faceapi from \"face-api.js\";\nimport { useEffect } from \"react\";\n\nexport default function PaintedResults({ detections, video, canvasEl }) {\n  useEffect(() => {\n    if (!detections || !canvasEl) return;\n    // ### Init configs\n    const displayValues = {\n      width: video.width,\n      height: video.height,\n    };\n\n    // ### Resize media elements\n    faceapi.matchDimensions(video, displayValues);\n\n    const resizedDetections = faceapi.resizeResults(detections, displayValues);\n\n    // ### Clear before picture\n    canvasEl.getContext(\"2d\").clearRect(0, 0, canvasEl.width, canvasEl.height);\n\n    // ### Drawing  in to VideoCanvas\n    faceapi.draw.drawDetections(canvasEl, resizedDetections);\n  }, [detections, video, canvasEl]);\n\n  return null;\n}\n","import React, { useState, useEffect } from \"react\";\nimport { detectFacialExpressions } from \"./lib/faceapi\";\nimport DominantExpression from \"./DominantExpression\";\nimport HappyButtplug from \"./HappyButtplug\";\nimport PaintedResults from \"./PaintedResults\";\n\nconst Smile = ({ device, video, resultsEl }) => {\n  const [detections, setDetections] = useState(null);\n  const expressions =\n    detections && detections.length ? detections[0].expressions : null;\n\n  const detectAndPaint = async () => {\n    const detectAgain = () => window.requestAnimationFrame(detectAndPaint);\n    const detections = await detectFacialExpressions(video);\n\n    setDetections(detections);\n    detectAgain();\n  };\n\n  useEffect(() => {\n    detectAndPaint();\n  }, []);\n\n  return (\n    <>\n      <DominantExpression expressions={expressions} />\n      <HappyButtplug device={device} expressions={expressions} />\n      <PaintedResults\n        detections={detections}\n        video={video}\n        canvasEl={resultsEl}\n      />\n    </>\n  );\n};\n\nexport default Smile;\n","import React from \"react\";\nimport styled, { createGlobalStyle } from \"styled-components\";\nimport \"@fontsource/sigmar-one\";\n\nexport const GlobalStyle = createGlobalStyle`\n  html,\n  body {\n    min-height: 100vh;\n    padding: 0;\n    margin: 0;\n    font-size: 20px;\n    font-family: \"Sigmar One\";\n    background-color: #FFF28C;\n    color: #000;\n  }\n`;\n\nexport const Container = styled.div`\n  height: 100vh;\n\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n`;\n\nexport const Button = styled.div`\n  padding: 2rem;\n  border: 2px solid #ec6e44;\n  border-radius: 10px 30px;\n  margin-bottom: 1rem;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  &:hover {\n    background-color: #f6c8c7;\n  }\n`;\n\nconst Svg = styled.svg`\n  width: 2rem;\n  height: 2rem;\n  padding-right: 1rem;\n`;\nexport const ButtplugIcon = ({ color }) => (\n  <Svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"20 12.5 60 75\">\n    <title>Buttplug</title>\n    <path\n      stroke={color}\n      fill={color}\n      d=\"M70,46c0-9.94-12.9-28-20-28S30,36.06,30,46A20,20,0,0,0,46,65.6V74H34v8H66V74H54V65.6A20,20,0,0,0,70,46ZM38,46c0-6.44,8.6-17.64,12-19.79C53.4,28.36,62,39.56,62,46a12,12,0,0,1-24,0Z\"\n    />\n  </Svg>\n);\n\nexport const Drawer = styled.div`\n  padding: 1rem;\n  box-shadow: 8px 0px 7px 5px rgb(0 0 0 / 25%), 0 10px 10px rgb(0 0 0 / 22%);\n`;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { initialize as initializeFaceAPI } from \"./lib/faceapi\";\nimport { ConnectAToy } from \"react-buttplug\";\nimport Webcam from \"react-webcam\";\nimport Smile from \"./Smile\";\nimport { GlobalStyle, Button, Container, ButtplugIcon } from \"./layout\";\n\nexport default function App() {\n  const [faceApiInitialized, setFaceApiInitialized] = useState(false);\n  const [begun, setBegun] = useState(false);\n  const [device, setDevice] = useState(null);\n  const webcam = useRef(null);\n  const resultsRef = useRef(null);\n\n  const initialized =\n    faceApiInitialized && webcam.current && resultsRef.current && device;\n  useEffect(() => {\n    const init = async () => {\n      await initializeFaceAPI();\n      setFaceApiInitialized(true);\n    };\n    init();\n  }, []);\n\n  console.log({ faceApiInitialized, device, webcam });\n  return (\n    <Container>\n      <GlobalStyle />\n      <div style={{ position: \"relative\" }}>\n        <Webcam\n          ref={webcam}\n          videoConstraints={{ width: 1280, height: 720 }}\n          width={1280}\n          height={720}\n        />\n        <canvas\n          style={{ position: \"absolute\", top: \"0\", left: \"0\" }}\n          ref={resultsRef}\n          width={webcam.current ? webcam.current.video.width : 0}\n          height={webcam.current ? webcam.current.video.height : 0}\n        />\n      </div>\n      {!initialized && !begun && (\n        <>\n          <h1>{faceApiInitialized ? \"initialized\" : \"not initalized\"}</h1>\n          <ConnectAToy\n            onNewDevice={setDevice}\n            clickToStart={({ initiateConnection }) => (\n              <Button onClick={initiateConnection}>\n                <ButtplugIcon color=\"#EC6E44\" />\n                Connect Your Toy\n              </Button>\n            )}\n            clickToStop={({ stopConnecting }) => (\n              <Button onClick={stopConnecting}>Stop Connecting</Button>\n            )}\n            connected={() => <Button disabled>Connected</Button>}\n            unsupportedBrowser={() => (\n              <Button disabled>Connect a Toy in Chrome</Button>\n            )}\n          />\n        </>\n      )}\n      {initialized && !begun && (\n        <Button onClick={() => setBegun(true)}>Begin</Button>\n      )}\n      {initialized && begun && (\n        <Smile\n          device={device}\n          video={webcam.current.video}\n          resultsEl={resultsRef.current}\n        />\n      )}\n    </Container>\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { HashRouter } from \"react-router-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}